<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Angèle Ronach</title>
  <style>
    :root{
      --header-h: 70px;
      --bottom-gap: 40px;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family: Didot, serif;
      background: white;
      color: black;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* ================ Header (top) ================ */
    #header{
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: var(--header-h);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 0 28px;
      z-index: 40; /* above modal */
      background: white;
      border-bottom: 1px solid rgba(0,0,0,0.03);
    }
    #name{ font-size: 1.8rem; font-weight:700; line-height:1; user-select:none; }
    #top-right-menu{ display:flex; gap:22px; font-size:1.05rem; align-items:center; }
    #top-right-menu a{ text-decoration:none; color:black; cursor:pointer; user-select:none; }

    /* ================ Bottom-left fixed menu ================ */
    #bottom-left{
      position: fixed;
      left: 20px;
      bottom: 20px;
      display:flex;
      flex-direction:column;
      gap:8px;
      z-index:40; /* above modal */
      user-select:none;
    }
    #bottom-left a{ text-decoration:none; color:black; cursor:pointer; }

    /* ================ Gallery (homepage) ================ */
    /* container pushed below header so header always visible */
    #gallery-wrapper{
      padding: calc(var(--header-h) + 30px) 20px 80px 20px; /* top padding to clear header, bottom for breathing */
      min-height: calc(100vh - var(--header-h) - var(--bottom-gap));
      display:flex;
      align-items:flex-start;
      justify-content:center; /* center thumbnails horizontally */
    }

    /* grid centered and limited width for neat look */
  #gallery-container{
  width: min(900px, 92%);
  display: grid;
  grid-template-columns: 1fr;   /* une seule colonne = images en vertical */
  gap: 40px;                     /* espace entre chaque image */
  justify-items: center;
}

    .thumb{
  width: 100%;        /* prend toute la largeur de la colonne */
  height: auto;       /* respecte le ratio */
  max-width: 900px;   /* limite élégante comme ton exemple */
  display: block;
}
    .thumb{
  object-fit: cover;
  height: 600px;   /* ou la hauteur qui te convient */
}
    .thumb:hover{ transform: scale(1.02); }

    /* ================ Modal carousel (collé sous header) ================ */
    /* modal background is white and does NOT cover header/bottom-left/top-right (those have higher z-index) */
    #modal{
      position: fixed;
      top: var(--header-h);   /* collé directement sous le header */
      left: 0;
      right: 0;
      bottom: 40px; /* leaves a visible bottom gap */
      background: white; /* as requested */
      display: none;
      flex-direction: column;
      z-index: 20; /* below header and bottom-left */
      box-shadow: 0 8px 30px rgba(0,0,0,0.06);
      overflow: hidden;
    }
    #modal.active{ display:flex; }

    /* carousel area: margin-top 0 (because modal top is header) */
    #carousel{
      height: 100%;
      display:flex;
      align-items:flex-start; /* images align near top */
      overflow-x: auto;
      gap: 24px;
      padding: 20px 40px; /* horizontal padding inside modal */
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
    }

    /* images larger */
    #carousel img{
      max-height: calc(100vh - var(--header-h) - 120px); /* keep them large but with breathing room */
      height: auto;
      cursor: pointer;
      border-radius: 4px;
      user-select: none;
      transition: transform .18s ease;
    }
    #carousel img:hover{ transform: scale(1.02); }

    #carousel video{
  height: calc(100vh - var(--header-h) - 120px);
  width: auto;
  object-fit: cover;
}

    /* small breadcrumb-like footer inside modal if needed (kept minimal) */
    #modal-footer{
      position: absolute;
      right: 20px;
      bottom: 12px;
      font-size: 0.95rem;
      color: #000;
      z-index: 25;
      user-select:none;
    }

    /* ================ Fullscreen overlay (zoom) ================ */
    #fullscreen{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.92);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 80; /* above header */
      cursor: zoom-out;
    }
    #fullscreen.active{ display:flex; }
    #fullscreen img{
      max-width: 95vw;
      max-height: 95vh;
      display:block;
      user-select:none;
      border-radius:6px;
    }

    /* small responsive tweaks */
    @media (max-width:900px){
      #carousel{ gap:16px; padding:12px; }
      #gallery-container{ grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); }
      #carousel img{ max-height: calc(100vh - var(--header-h) - 100px); }
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header id="header" role="banner">
    <div id="name">Angèle Ronach</div>
    <nav id="top-right-menu" aria-label="Catégories">
      <a id="nav-concerts">Concerts</a>
      <a id="nav-projets">Projet Personnel</a>
    </nav>
  </header>

  <!-- BOTTOM LEFT -->
  <nav id="bottom-left" aria-label="Liens">
    <a id="nav-accueil">Accueil</a>
    <a id="nav-about">About</a>
  </nav>

  <!-- GALLERY (centered) -->
  <div id="gallery-wrapper">
    <div id="gallery-container" aria-live="polite" aria-label="Galerie de vignettes"></div>
  </div>

  <!-- MODAL carousel (collé sous header, blanc) -->
  <div id="modal" role="dialog" aria-hidden="true" aria-label="Carrousel d'images">
    <div id="carousel" aria-live="polite"></div>
    <div id="modal-footer" aria-hidden="true"></div>
  </div>

  <!-- FULLSCREEN zoom -->
  <div id="fullscreen" role="dialog" aria-hidden="true">
    <img id="fullscreen-img" alt="Image agrandie">
  </div>

<script>
/* ===================== Data: albums ===================== */
const concertAlbums = [
  { thumb: "Reuben01.jpg", images: ["Reuben01.jpg","Reuben02.jpg","Reuben03.jpg","Reuben04.jpg","Reuben05.jpg"] },
  { thumb: "CNV000001.jpg",   images: ["CNV000001.jpg","Goya01.jpg","Goya02.jpg","Goya03.jpg"] },
  { thumb: "000055020025 copie.png",   images: ["000055020025 copie.png","000055020024.png","000055020038 copie.png","000055020028.jpg"] },
  { thumb: "000012.jpg",   images: ["000012.jpg","00004.jpg","000021.jpg","000017.jpg","000025.jpg","000015.jpg","00008.jpg"] },
 { 
{
  thumb: "Screenshot 2025-11-18 at 17.18.09.png",
  video: '<video src="SlumVillage_Video2.mp4" autoplay muted loop playsinline></video>',
  images: ["Slum village-6.jpg", "Slum village.jpg"]
},
{ 
  thumb: "Colmar01.jpg",
  images: ["Colmar01.jpg","Colmar02.jpg","Colmar03.jpg"]
}
];
const projetAlbums = [
  { thumb: "P1310001vert.jpg", images: ["P1310001vert.jpg","P1290983_finale.jpg","R000024.jpg","","Mael03.jpg"] },
  { thumb: "P1270055.jpg",  images: ["P1270055.jpg","P1270073.jpg","P1270091.jpg","house04.jpg","house05.jpg","house06.jpg",] },
];

/* ===================== State ===================== */
let currentCategory = "concerts"; // "concerts" or "projets"
let currentAlbumIndex = null;

/* ===================== DOM refs ===================== */
const galleryContainer = document.getElementById('gallery-container');
const modal = document.getElementById('modal');
const carousel = document.getElementById('carousel');
const fullscreen = document.getElementById('fullscreen');
const fullscreenImg = document.getElementById('fullscreen-img');
const navConcerts = document.getElementById('nav-concerts');
const navProjets = document.getElementById('nav-projets');
const navAccueil = document.getElementById('nav-accueil');
const navAbout = document.getElementById('nav-about');

/* ===================== Helpers ===================== */
function albumsFor(category){
  return category === 'concerts' ? concertAlbums : projetAlbums;
}

/* ========== Render thumbnails (centered) ========== */
function renderThumbnails(){
  const albums = albumsFor(currentCategory);
  galleryContainer.innerHTML = '';
  albums.forEach((album, idx) => {
    const img = document.createElement('img');
    img.src = album.thumb;
    img.alt = `Vignette ${idx+1}`;
    img.className = 'thumb';
    img.dataset.index = idx;
    img.addEventListener('click', () => openModal(idx));
    galleryContainer.appendChild(img);
  });
}

/* ========== Open modal for a given album index ========== */
/* ========== Open modal for a given album index ========== */
function openModal(albumIndex){
  currentAlbumIndex = Number(albumIndex);
  const albums = albumsFor(currentCategory);
  const images = albums[currentAlbumIndex].images;
  const videoSrc = albums[currentAlbumIndex].video;  // <-- récupération du champ vidéo

  // build carousel content
  carousel.innerHTML = '';

  // 1) afficher les images
  images.forEach((src, i) => {
    if (!src) return; // évite les chaînes vides dans les albums
    const img = document.createElement('img');
    img.src = src;
    img.alt = `Image ${i+1}`;
    img.loading = 'eager';
    img.addEventListener('click', () => openFullscreen(src));
    carousel.appendChild(img);
  });

  // 2) afficher la vidéo si elle existe
  if (videoSrc) {
    const video = document.createElement('video');
    video.src = videoSrc;
    video.controls = true;
    video.preload = "metadata";

    // même style que les images du carrousel
    video.style.maxHeight = "calc(100vh - var(--header-h) - 120px)";
    video.style.borderRadius = "4px";
    video.style.cursor = "pointer";

    // zoom fullscreen si tu veux (facultatif mais cohérent)
    video.addEventListener('click', (e) => {
      e.stopPropagation();
      openFullscreen(videoSrc);
    });

    carousel.appendChild(video);
  }

  // show modal
  modal.classList.add('active');
  modal.setAttribute('aria-hidden','false');

  // scroll to first element
  setTimeout(()=> {
    const first = carousel.children[0];
    if(first) first.scrollIntoView({behavior:'instant', inline:'start'});
  }, 50);
}

/* ========== Close modal ========== */
function closeModal(){
  modal.classList.remove('active');
  modal.setAttribute('aria-hidden','true');
  carousel.innerHTML = '';
  currentAlbumIndex = null;
}

/* ========== Fullscreen zoom ========== */
function openFullscreen(src){
  fullscreenImg.src = src;
  fullscreen.classList.add('active');
  fullscreen.setAttribute('aria-hidden','false');
}
function closeFullscreen(){
  fullscreen.classList.remove('active');
  fullscreen.setAttribute('aria-hidden','true');
  fullscreenImg.src = '';
}

/* ========== Clicking outside carousel closes modal ==========
   We listen on modal background: only close when clicking the modal container itself, not its children.
   Here modal is full area; user clicking outside any image (on padding) should close.
*/
modal.addEventListener('click', (e) => {
  if(e.target === modal){
    closeModal();
  }
});

/* fullscreen close on click */
fullscreen.addEventListener('click', () => closeFullscreen());

/* keyboard interactions */
document.addEventListener('keydown', (e) => {
  if(e.key === 'Escape'){
    if(fullscreen.classList.contains('active')) closeFullscreen();
    else if(modal.classList.contains('active')) closeModal();
  }
  // Left/Right arrow: when modal open, navigate carousel
  if(modal.classList.contains('active')){
    if(e.key === 'ArrowRight'){
      carousel.scrollBy({ left: window.innerWidth * 0.6, behavior: 'smooth' });
    } else if(e.key === 'ArrowLeft'){
      carousel.scrollBy({ left: -window.innerWidth * 0.6, behavior: 'smooth' });
    }
  }
});

/* ===================== Navigation handlers ===================== */
navConcerts.addEventListener('click', () => {
  currentCategory = 'concerts';
  renderThumbnails();
  closeModal();
});

navProjets.addEventListener('click', () => {
  currentCategory = 'projets';
  renderThumbnails();
  closeModal();
});

navAccueil.addEventListener('click', () => {
  currentCategory = 'concerts';
  renderThumbnails();
  closeModal();
});

navAbout.addEventListener('click', () => {
  // about is decorative here — you can change behavior
  alert('About — ajoute le lien ou la page souhaitée.');
});

/* ===================== Init ===================== */
renderThumbnails();

/* Accessibility note: ensure header and bottom-left remain on top (z-index)
   The modal is white and placed under the header, as requested. */
</script>
</body>
</html>

